{
  "fileName": "get_top_pypi.py",
  "filePath": "collect/get_top_pypi.py",
  "url": "/blob/master/collect/get_top_pypi.py",
  "summary": "```mermaid\nflowchart TD\n    A[Start selenium driver] --> B[Open top 5000 pypi page]\n    B --> C[Click to show top 5000 packages]\n    C --> D[Retrieve HTML for packages]\n    D --> E[Extract package details from HTML]\n    E --> F{Check if package URL exists in file}\n    F -->|Yes| G[Continue to next package]\n    F -->|No| H[Get package GitHub URL]\n    H --> I{GitHub URL found?}\n    I -->|Yes| J[Fetch stars and pulls from GitHub API]\n    I -->|No| K[Skip GitHub data]\n    J --> L[Write package data to file]\n    K --> L\n    G --> M[End of package list?]\n    L --> M\n    M -->|Yes| N[End]\n    M -->|No| E\n```\nThis flowchart represents the process of extracting package statistics from a top 5000 PyPI packages page, enriching the data with GitHub statistics, and writing the results to a file. The process starts with initializing a Selenium driver to navigate the web page, clicking to reveal the top 5000 packages, and then parsing the HTML to extract package details. For each package, it checks if the URL already exists in the output file to avoid duplicates. If not, it attempts to find the package's GitHub URL from the package's PyPI page. If a GitHub URL is found, it fetches star and pull request counts using the GitHub API. Finally, it writes the package data, including GitHub statistics if available, to a file, iterating through all packages in the list.",
  "questions": "",
  "checksum": "e7396ded806275391c587069ba691ffb"
}